<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">

	<title>Overdub - Record audio over a backing track.</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Latest compiled and minified Bootstrap CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<link rel="stylesheet" type="text/css" href="style.css">
        <link rel="stylesheet" type="text/css" id="langstyle">
        <link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
</head>
<body>
    <h1>Ovrdub</h1>
<!--	<h1>Audio Recording Demo With WebAudioRecorder.js</h1>
	<p><small>Made by the <a href="https://addpipe.com" target="_blank">Pipe Video Recording Platform</a></small></p>
	<p>This demo shows you how to use <a href="https://github.com/higuma/web-audio-recorder-js" target="_blank">WebAudioRecorder.js</a> - a JavaScript library written in 2015 by higuma - to record audio and encode to common formats (pcm, Vorbis, mp3) directly in the browser.</p>
	<p>Check out the <a href="https://github.com/addpipe/simple-web-audio-recorder-demo" target="_blank">code on GitHub</a> and our <a href="https://addpipe.com/blog/using-webaudiorecorder-js-to-record-audio-on-your-website/" target="_blank">blog post on using WebAudioRecorder.js to Record MP3, Vorbis and WAV Audio</a>.</p>
-->
	<div style="max-width: 28em;">
            <div id="JSwarning">
                <p lang="en"><strong>This site requires javascript to operate.  Please activate javascript.</strong></p>

                <p lang="fr"><strong>Merci de bien vouloir activer javascript</strong></p>
            </div>
            <div id="inputPlaybackURL" style="display:none">
                <div lang="en">
                    <p>No backing track URL found.  Please enter the URL of a direct link to a sound file below and overdub will generate a link. </p>
                    <p>You can also try the <a href="./?playback=https://preidorg.github.io/overdub/son/arbeau-tenor.mp3">demo page</a>.</p>
                </div>                
                <div lang="fr">                
                    <p>Aucune URL playback trouvé.  Veuillez copier-coller l'URL complete d'un lien direct vers un fichier audio dans la case ci-dessous et Overdub générera une URL Overdub.</p> 
                    <p>Vous pouvez également essayer la <a href="./?playback=https://preidorg.github.io/overdub/son/arbeau-tenor.mp3">page de démonstration</a>.</p>
                </div>
                <label for="userPlaybackURL">URL : </label>
                    <input type="url" id="userPlaybackURL" name="userPlaybackURL" oninput="getUserPlaybackURL()" placeholder="https://example.com/sound.mp3" style="width : 20em">
            </div>

            <div id=overdubURLdisplay style="display:none">
                <p>
                    <span lang="en">Overdub link: </span>
                    <span lang="fr">Lien Overdub :</span>
                    <a id="overdubURL"></a></p>
                <p lang="en">Use this link to integrate your sound into Overdub.  Copy the link the share with your musicians so that they can record over it.</p>
                <p lang="fr">Servez-vous de ce lien pour intégrer votre son dans Overdub.  Copiez le lien et partagez-le avec vos musiciens pourqu'ils s'enregistrent avec.</p>
            </div>
            <div id='encodingTypeSelectDiv' style="display:none">
                <p>Convert recorded audio to:</p>
		<select id="encodingTypeSelect">
		  <option value="wav">Waveform Audio (.wav)</option>
		  <option value="mp3" selected="selected">MP3 (MPEG-1 Audio Layer III) (.mp3)</option>
		  <option value="ogg">Ogg Vorbis (.ogg)</option>
		</select>
            </div>
            
            <div id="mainInterface">
                <a onclick="toggle_show_help()" lang="en">Help</a>
                <a onclick="toggle_show_help()" lang="fr">Aide</a>
                <div id="od_help" style="display : none">
                    <div lang="en">
                        <p>Welcome to Ovrdub a tool to help you record over a backing/guide track.  Please wear headphones so that the backing/guide track can't be heard on the recording.</p>
                        <p>When you press play, you will hear the backing track and you can practice singing or playing along with it.
                        When you are ready to record, write your name in the input field and it will be added to the filename, then press record. 
                        <em>You must allow this page to use your microphone so that it can record you.</em></p>
                        <p>When you have finished recording press stop and wait for ovrdub to convert your recording to mp3.  
                        You will then be able to listen to your recording.
                        You can repeat the recording process as many times as you like.</p>
                        <p>When you are satisfied with your recording you can right click on the download link to save it to your device.
                        You can then send this file to your teacher/conductor/director/collaborator.
                        <em>Warning: if you close this window, any unsaved recordings will be lost.</em></p>
                    </div>
                    <div lang="fr">
                        <p>
                        Bienvenue sur Ovrdub, un outil pour s'enregistrer avec une piste d'accompagnement (playback) dans les oreilles. 
                        Merci de porter un casque ou des écouteurs pour que la piste d'accompagnement ne s'entende pas sur l'enregistrement.
                        </p>
                        <p>
                        Appuyez sur play pour entendre le playback et s'entrainer.
                        Quand vous êtes prêt.e à enregistrer, écrivez votre nom dans la case prévue pour qu'il soit ajouté au nom du fichier enregistré. 
                        Cliquez sur "record", puis <em>autorisez votre navigateur à accéder au micro, sinon Ovrdub ne pourra pas vous enregistrer</em>.  
                        </p>
                        <p>
                        Quand vous avez fini d'enregistrer, cliquez sur stop, puis attendez que Ovrdub finisse de convertir votre enregistrement. Vous pourriez ensuite écouter ce que vous avez enregistré.
                        Vous pouvez faire recommencer l'enregistrement autant de fois que vous voulez.  
                        </p>
                        <p>
                        Quand vous êtes satisfait d'un enregistrement, vous pouvez le télécharger grâce au lien et l'envoyer à votre chef/professeur/collaborateur.
                        <em>Attention : si vous fermez cette page avant de sauvegarder vos enregistrements, ils seront perdus.</em>
                        </p>
                        
                        
                    </div>
                    
                </div>
                <p style="display:block">
                    <span lang="en">Backing track: </span>
                    <span lang="fr">Fichier playback : </span>
                        
                    <a id="displayPlaybackURL" target="_blank"></a>
                </p>
                    <label for="usersName" lang="en">Your name:</label>
                    <label for="usersName" lang="fr">Prénom :</label>
                    <input type="text" id="usersName" name="usersName"> 
                    <br>
                    <label for="usersClass" lang="en">Class: </label>
                    <label for="usersClass" lang="fr">Classe : </label>
                    <input type="text" id="usersClass" name="usersClass" style="width:4em" placeholder="6A"> 
                    <span lang="en">(optional)</span>
                    <span lang="fr">(non obligatoire)</span>
		<div id="controls">
			<button id="playButton">Play</button>
			<button id="recordButton">Record</button>
			<button id="stopButton" disabled>Stop</button>
		</div>
		<div id="formats"></div>
		<pre>Log</pre>
		<pre id="log"></pre>

		<pre>Recordings</pre>
		<ol id="recordingsList"></ol>
            </div>
	</div>

	<!-- inserting these scripts at the end to be able to use all the elements in the DOM -->
	<script src="js/WebAudioRecorder.min.js"></script>
	<script src="js/app.js"></script>

</body>
</html>